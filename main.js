(()=>{"use strict";var e=document.querySelector("#card-template").content.querySelector(".card"),t=function(t,n,o,r){var c=e.cloneNode(!0),p=c.querySelector(".card__delete-button"),u=c.querySelector(".card__like-button");c.querySelector(".card__title").textContent=t.name;var d=c.querySelector(".card__image");return d.src=t.link,d.alt=t.name,d.addEventListener("click",(function(){o(t)})),p.addEventListener("click",(function(){n(c)})),u.addEventListener("click",(function(){r(u)})),c},n=function(e){e.remove()},o=function(e){e.classList.toggle("card__like-button_is-active")},r=function(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",p),document.addEventListener("click",u)},c=function(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",p),document.removeEventListener("click",u)},p=function(e){if("Escape"===e.key){var t=document.querySelector(".popup_is-opened");c(t)}},u=function(e){e.target.classList.contains("popup_is-opened")&&c(e.target)},d=document.querySelector(".places__list"),a=document.querySelector('.popup__form[name="edit-profile"]'),i=document.querySelector('.popup__form[name="new-place"]'),l=document.querySelector(".profile__title"),s=document.querySelector(".profile__description"),m=document.querySelector(".popup__input_type_name"),_=document.querySelector(".popup__input_type_description"),y=document.querySelector(".popup__input_type_card-name"),v=document.querySelector(".popup__input_type_url"),f=document.querySelector(".profile__edit-button"),k=document.querySelector(".popup_type_edit"),q=document.querySelectorAll(".popup__close"),S=document.querySelector(".profile__add-button"),L=document.querySelector(".popup_type_new-card"),E=document.querySelector(".popup_type_image"),g=document.querySelector(".popup__image"),h=document.querySelector(".popup__caption");function x(e){g.src=e.link,g.alt=e.name,h.textContent=e.name,r(E)}document.querySelectorAll(".popup").forEach((function(e){e.classList.add("popup_is-animated")})),[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var r=t(e,n,x,o);d.append(r)})),f.addEventListener("click",(function(){m.value=l.textContent,_.value=s.textContent,r(k)})),a.addEventListener("submit",(function(e){e.preventDefault();var t=m.value,n=_.value;l.textContent=t,s.textContent=n,c(k)})),S.addEventListener("click",(function(){r(L)})),i.addEventListener("submit",(function(e){e.preventDefault();var r=y.value,p=v.value,u=t({name:r,link:p},n,x,o);d.prepend(u),y.value="",v.value="",c(L)})),q.forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".popup");t&&c(t)}))}))})();